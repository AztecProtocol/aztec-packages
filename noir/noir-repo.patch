From 9990c2d4acf7e28c669c8288a6c160d75fe6d8b8 Mon Sep 17 00:00:00 2001
From: TomAFrench <tom@tomfren.ch>
Date: Sat, 15 Mar 2025 15:36:12 +0000
Subject: [PATCH 1/5] chore: turn on `skipLibCheck`

---
 tooling/noir_codegen/tsconfig.json | 1 +
 1 file changed, 1 insertion(+)

diff --git a/tooling/noir_codegen/tsconfig.json b/tooling/noir_codegen/tsconfig.json
index 30dd2a7..a2712fd 100644
--- a/tooling/noir_codegen/tsconfig.json
+++ b/tooling/noir_codegen/tsconfig.json
@@ -10,6 +10,7 @@
     "resolveJsonModule": true,
     "strict": true,
     "noImplicitAny": false,
+    "skipLibCheck": true
   },
   "include": [
     "src/**/*.ts"
--
2.43.0

From 658ff32f06ad9a4b5f6c752774fdbfdad1d1a5d7 Mon Sep 17 00:00:00 2001
From: AztecBot <tech@aztecprotocol.com>
Date: Mon, 19 May 2025 12:12:25 +0000
Subject: [PATCH 3/5] chore: disable TypeCheckError::InvalidTypeForEntryPoint

---
 compiler/noirc_frontend/src/elaborator/mod.rs | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/compiler/noirc_frontend/src/elaborator/mod.rs b/compiler/noirc_frontend/src/elaborator/mod.rs
index 89d008f..3e3387b 100644
--- a/compiler/noirc_frontend/src/elaborator/mod.rs
+++ b/compiler/noirc_frontend/src/elaborator/mod.rs
@@ -1191,12 +1191,13 @@ impl<'context> Elaborator<'context> {
         typ: &Type,
         is_entry_point: bool,
         has_inline_attribute: bool,
-        location: Location,
+        _location: Location,
     ) {
         if (is_entry_point && !typ.is_valid_for_program_input())
             || (has_inline_attribute && !typ.is_valid_non_inlined_function_input())
         {
-            self.push_err(TypeCheckError::InvalidTypeForEntryPoint { location });
+            // Disabled pending updates to protocol circuits re https://github.com/noir-lang/noir/issues/8565
+            // self.push_err(TypeCheckError::InvalidTypeForEntryPoint { location });
         }
     }

--
2.43.0

From e1924f0067e0d5b4d2ce437e6f0121ad1a75f2b0 Mon Sep 17 00:00:00 2001
From: AztecBot <tech@aztecprotocol.com>
Date: Mon, 19 May 2025 12:46:17 +0000
Subject: [PATCH 5/5] remove test

---
 .../compile_failure/array_oob_regression_7952/Nargo.toml  | 6 ------
 .../compile_failure/array_oob_regression_7952/Prover.toml | 2 --
 .../compile_failure/array_oob_regression_7952/src/main.nr | 7 -------
 .../compile_failure/array_oob_regression_7952/stderr.txt  | 8 --------
 4 files changed, 23 deletions(-)
 delete mode 100644 test_programs/compile_failure/array_oob_regression_7952/Nargo.toml
 delete mode 100644 test_programs/compile_failure/array_oob_regression_7952/Prover.toml
 delete mode 100644 test_programs/compile_failure/array_oob_regression_7952/src/main.nr
 delete mode 100644 test_programs/compile_failure/array_oob_regression_7952/stderr.txt

diff --git a/test_programs/compile_failure/array_oob_regression_7952/Nargo.toml b/test_programs/compile_failure/array_oob_regression_7952/Nargo.toml
deleted file mode 100644
index 03e8dfb..0000000
--- a/test_programs/compile_failure/array_oob_regression_7952/Nargo.toml
+++ /dev/null
@@ -1,6 +0,0 @@
-[package]
-name = "array_oob_regression_7952"
-type = "bin"
-authors = [""]
-
-[dependencies]
\ No newline at end of file
diff --git a/test_programs/compile_failure/array_oob_regression_7952/Prover.toml b/test_programs/compile_failure/array_oob_regression_7952/Prover.toml
deleted file mode 100644
index 8c02f4f..0000000
--- a/test_programs/compile_failure/array_oob_regression_7952/Prover.toml
+++ /dev/null
@@ -1,2 +0,0 @@
-a = [[]]
-b = 1
\ No newline at end of file
diff --git a/test_programs/compile_failure/array_oob_regression_7952/src/main.nr b/test_programs/compile_failure/array_oob_regression_7952/src/main.nr
deleted file mode 100644
index 4a75115..0000000
--- a/test_programs/compile_failure/array_oob_regression_7952/src/main.nr
+++ /dev/null
@@ -1,7 +0,0 @@
-fn main(a: [[u32; 0]; 1], b: bool) -> pub [u32; 0] {
-    if (b) {
-        a[0]
-    } else {
-        a[0]
-    }
-}
diff --git a/test_programs/compile_failure/array_oob_regression_7952/stderr.txt b/test_programs/compile_failure/array_oob_regression_7952/stderr.txt
deleted file mode 100644
index e3f3917..0000000
--- a/test_programs/compile_failure/array_oob_regression_7952/stderr.txt
+++ /dev/null
@@ -1,8 +0,0 @@
-error: Only sized types may be used in the entry point to a program
-  ┌─ src/main.nr:1:12
-  │
-1 │ fn main(a: [[u32; 0]; 1], b: bool) -> pub [u32; 0] {
-  │            ------------- Slices, references, or any type containing them may not be used in main, contract functions, or foldable functions
-  │
-
-Aborting due to 1 previous error
\ No newline at end of file
--
2.43.0

