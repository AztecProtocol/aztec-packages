---
title: Using custom note types in Aztec.nr
tags: [contracts, notes]
---

It may be useful to write a custom note type if you want to use a specific type of private data or struct that does not have a default implementation in Aztec.nr. If you create a note that uses a custom note type, you are able to nullify that note with one nullifier. This is more secure and less expensive than using multiple separate notes.

As an example, if you are developing a card game, you may want to store multiple pieces of data in each card. Rather than storing each of these pieces of data in their own note, you can use a custom note to define the card, and then nullify (or exchange ownership of) the card when it has been used. 

If you want to work with values or addresses, you can check out [ValueNote](./value_note.md) or [AddressNote](./address_note.md). 

## Define a custom note type

You will likely want to define your note in a new file and import it into your contract.

A custom note type can be defined with the macro `#[aztec(note)]` used on a struct:

#include_code state_vars-CardNote noir-projects/noir-contracts/contracts/docs_example_contract/src/types/card_note.nr rust

In this example, we are implementing a card note that holds a number of points as `u8`.

## Implement NoteInterface

You will need to implement a note interface for your note. Most of this is automatically generated by the `#[aztec(note)]` macro but can be overwritten. For your reference, this is what a note interface looks like:

#include_code note_interface noir-projects/aztec-nr/aztec/src/note/note_interface.nr rust

You will need to implement the functions `compute_nullifier(...)` and `compute_nullifier_without_context()` which tells Aztec how to compute nullifiers for your note.

#include_code note_interface noir-projects/noir-contracts/contracts/docs_example_contract/src/types/card_note.nr rust
 
In this example, these functions compute the note hash by using `compute_note_hash_for_nullify` and then generate a nullifier by hashing this note hash together with a secret.

### Methods

You will likely want to implement methods in order to use your note easily within contracts. For example, this may be what a `new` method can look like, for creating a new note:

#include_code cardnote_impl noir-projects/noir-contracts/contracts/docs_example_contract/src/types/card_note.nr rust

If you are also planning to be able to access the data with a note in public state, you will need to implement a method for serializing the note. This might look something like this:

#include_code serialize noir-projects/noir-contracts/contracts/docs_example_contract/src/types/card_note.nr rust

## Further reading

- [Macros reference](../../../../../reference/developer_references/smart_contract_reference/macros.md)
