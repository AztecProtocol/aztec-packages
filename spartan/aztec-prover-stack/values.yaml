global:
  aztecRollupVersion: "canonical"
  aztecNetwork: ""
  customAztecNetwork:
    enabled: false

  l1ExecutionUrls: []
  l1ConsensusUrls: []
  l1ConsensusHostApiKeys: []
  l1ConsensusHostApiKeyHeaders: []

node:
  mnemonic:
  mnemonicStartIndex:
  privateKey:

  persistence.enabled: false
  statefulset.enabled: true

  replicaCount: 1

  node:
    preStartCmd: |
      if [ -n "$MNEMONIC" ]; then
        KEY_INDEX=$(echo $K8S_POD_NAME | awk -F'-' '{print $NF}')
        KEY_INDEX_START=${KEY_INDEX_START:-0}
        PRIVATE_KEY_INDEX=$((KEY_INDEX_START + KEY_INDEX))

        export PRIVATE_KEY="$(cast wallet private-key "$MNEMONIC" --mnemonic-index $PRIVATE_KEY_INDEX)"
      fi

    startCmd:
      - --prover-node
      - --archiver

    hostNetwork: true
    configMapEnabled: true
    secretEnabled: true

  service:
    p2p:
      enabled: true
      nodePortEnabled: false
    admin:
      enabled: true
    headless:
      enabled: false

broker:
  replicaCount: 1
  node:
    startCmd:
      - --prover-broker

  hostNetwork: false

  service:
    httpPort: 8080
    p2p:
      enabled: false
      nodePortEnabled: false
    admin:
      enabled: false
    headless:
      enabled: false
  rbac:
    create: false
  serviceAccount:
    create: false

agent:
  replicaCount: 1
  node:
    startCmd:
      - --prover-agent

    configMapEnabled: true

  service:
    p2p:
      enabled: false
      nodePortEnabled: false
    admin:
      enabled: false
    headless:
      enabled: false

  rbac:
    create: false
  serviceAccount:
    create: false
