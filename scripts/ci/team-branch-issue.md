### Problem Statement

Issue generated by Claude Code.

# Team-Based Merge Trains for Monorepo

## Problem
- PRs waiting 4-8 hours in merge queue
- Related team changes get interleaved with unrelated work
- 30-45 min CI runs for every small PR
- Hard to coordinate multiple team members' changes

## Solution
Team staging branches that batch changes before merging to next:

```
Individual PRs → Team Branch → Next Branch
     ↓              ↓            ↓
(instant)      (daily batch)  (deployed)
```

## Implementation

### 1. Team Branch (`feat/bb-changes`)
- Persistent branch, never deleted
- Auto-PR to `next` with tracked history
- Squash-merge daily or on-demand

### 2. Triggers
- Scheduled: Daily 2 AM UTC
- Can also put as 'ready for merge' by clicking button any time

### 3. Merge Process
1. Update from `next`
2. Run CI on batch
3. Squash merge
4. Reset branch with `git merge -X theirs origin/next`
5. Create new PR with history but initially blank comment

### 4. PR Tracking
```markdown
## Barretenberg Team Changes

### Merged PRs
- #1234: Fix memory leak (@alice)
- #1235: Optimize polynomials (@bob)

### History
Previous: #1230 (merged 2024-01-20)
```

## Success Metrics
- Higher throughput of merges
- Less CI runs
- Team changes land first attempt ~90% of time?

## Notes
- Teams fix breaking changes directly on their branch rather than removing PRs
- No max divergence time - teams maintain their branches continuously
- Cross-team dependencies still use direct PRs to `next`
- Dogfood with Barretenberg team first, then expand to others
