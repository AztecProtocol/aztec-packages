use dep::aztec::constants_gen;
// TODO(David): When we call compute_block_hash, we pass these
// fields to it. Why not have a Block data structure? 

// This is not in the cpp code.
struct Block {
    // Private data
    private_data_tree_root : Field,
    nullifier_tree_root : Field,
    contract_tree_root : Field,
    l1_to_l2_data_tree_root : Field,

    // Public data
    public_data_tree_root : Field,
    global_variables_hash : Field,
}


impl Block {
    fn assert_is_zero(self) {
        assert(self.private_data_tree_root == 0);
        assert(self.nullifier_tree_root == 0);
        assert(self.contract_tree_root == 0);
        assert(self.l1_to_l2_data_tree_root == 0);
        assert(self.public_data_tree_root == 0);
    }

    fn hash(self) -> Field {
        dep::std::hash::pedersen_with_separator([
            self.global_variables_hash,
            self.private_data_tree_root,
            self.nullifier_tree_root,
            self.contract_tree_root,
            self.l1_to_l2_data_tree_root,
            self.public_data_tree_root,
        ], constants_gen::GENERATOR_INDEX__BLOCK_HASH)[0]
    }
}