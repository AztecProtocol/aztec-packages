import {Test} from "forge-std/Test.sol";
// import {BlakeHonkVerifier} from "../../src/honk/instance/BlakeHonk.sol";
import {HonkVerifier} from "../../src/honk/optimised/assert_state.sol";
import {AssertStateOpt} from "../../src/honk/optimised/assert_state_opt.sol";

import "forge-std/console.sol";

contract BlakeOptTesBlakeOptTestt is Test {
    // The base proof, without the public inputs
    bytes proof =
        hex"0000000000000000000000000000000000000000000000042ab5d6d1986846cf00000000000000000000000000000000000000000000000b75c020998797da780000000000000000000000000000000000000000000000005a107acb64952eca000000000000000000000000000000000000000000000000000031e97a575e9d00000000000000000000000000000000000000000000000b5666547acf8bd5a400000000000000000000000000000000000000000000000c410db10a01750aeb00000000000000000000000000000000000000000000000d722669117f9758a4000000000000000000000000000000000000000000000000000178cbf4206471000000000000000000000000000000000000000000000000e91b8a11e7842c38000000000000000000000000000000000000000000000007fd51009034b3357f000000000000000000000000000000000000000000000009889939f81e9c74020000000000000000000000000000000000000000000000000000f94656a2ca48000000000000000000000000000000000000000000000006fb128b46c1ddb67f0000000000000000000000000000000000000000000000093fe27776f50224bd000000000000000000000000000000000000000000000004a0c80c0da527a0810000000000000000000000000000000000000000000000000001b52c2020d746000000000000000000000000000000fa7ac8157b1811b81e2dfba8f888cf72c800000000000000000000000000000000001a238c1a3e690b5c51f4f288f229d30000000000000000000000000000008f30855cf628b10adadf05f893082bd5fa00000000000000000000000000000000001252362d535c4e723261c9f10e27300000000000000000000000000000007bf9031f6a816c5a07e5f687a29cdb7e8400000000000000000000000000000000002109579664b90daafcde5a51de505e000000000000000000000000000000e7ae10c9fae0e3c24ebecb4b6cf7e90140000000000000000000000000000000000003c3608ab49d5d88626238cd5c210f0000000000000000000000000000008b9fd1b605c0bb88251c43c5bcda228c2d000000000000000000000000000000000029525e69211870bf348f04e8760878000000000000000000000000000000a735ea03005c9f826f39aa78c4e618811f00000000000000000000000000000000000559f2d527432ef7cd7cb4e145f8ae00000000000000000000000000000079cf93b804469cfd1aed183baaeae73de800000000000000000000000000000000000e59187557f6855bde567cb35ede860000000000000000000000000000008bd253f9ec6d2aa0aa50326c8365f4771f0000000000000000000000000000000000094ed7be0bdab40ba71f0b5a713f4600000000000000000000000000000079cf93b804469cfd1aed183baaeae73de800000000000000000000000000000000000e59187557f6855bde567cb35ede860000000000000000000000000000008bd253f9ec6d2aa0aa50326c8365f4771f0000000000000000000000000000000000094ed7be0bdab40ba71f0b5a713f46000000000000000000000000000000fb6ac303cc1704196e005b608dbd355a62000000000000000000000000000000000021f66583327dc978260dbf5e19e291000000000000000000000000000000a6813ca861c5f42d776cc9fcc766b6806600000000000000000000000000000000000e758b285c630dbe15f9e9beaffd450000000000000000000000000000009aedf31296eae7f96df1db7cd6899784dd00000000000000000000000000000000001469dd016770fa22ab2e5ad7e1100d000000000000000000000000000000e340c7a629694415f73445b48e01160be400000000000000000000000000000000001078d1e1bbb2e2c572b008990081b300000000000000000000000000000068e1419e7df941e05830bf4d565f0efc6800000000000000000000000000000000000e4a0241b92dad6c292bff49c8268c000000000000000000000000000000712853e63db823efe96455d2567c4cfcdf00000000000000000000000000000000000607ce55ae24cb3cc908560c78a3332a2b5f95eabbe91850c628cfc113cf2d3a7ee3034e8c06f1024cfc67afd36c5b0638eedcf675b711678a1ce6c06d892fedb505452b2d69a04194f92c402c93a609795383a46f4dd8c7828f51b15b729e5efbd18446b23bb27a501ac7ca231724273a7dc827032914b6da95aa71ce9fe06d6da84e3ed474d25ebfb1aaa60e4fe70178a5fb451e5d68f830737ca28ba21487d934d081bc9a1acc4549fe260a387610ce69374936da581ac583416be8d7201f2a020b35abda6ee4a60aa54a10654f167164b3be2d33ef14e19ffbaea78ed5a56410d64c99bdcee868541ab8e154c22333e4469b8778cb5131af6acb0daf607edfd6a6140db78d3f027b5a3dbe164104039c78283f2e5659c2abb4037092dbf8f0d128a71235406874dce8a1bf01ea09612226dc3f405e252b41104fe4a1909086e0c39ce5dcac5a902cbb0fefdeb107241731954a0bde319e6fe515801f5c6d6757142fcf50d645d758e4f526ff702c687d36d5be3ce70af563aa32cfa45e617af452827ca3d26c8aca54d9d9cae12658204452e352c7d4733719aa39ef785a6ca76d4b2166d9fe39dcb82ab89bdf13bb82c9ac297622a7cac3bb7015609ef359a151bb440130d1acdae72d26943d142a620b0f3f98a0c1652fd144df3bc41622577421dfaa92b1622f915fba699d0c4c785d29f878c95000d91a21a8cee68cd69a454d80e772a538ff6055be8e1f2051522a58b645c4f816109c374009ebafafbfd1cb45a18959fa1847dde156f92e7f0c706805a1fead1c39da606d44c38013536ac21aa87aac9d2568446b4abf0068429b6c6464b1fcc6537831a08755fb4f7edc1af04c0bb6d56fa20776ebdd2cc99338752e780f396bb1fc91db09a0c844d4c3145b94ac4d3fe31722aaf01f28ba494cd2c593a823b31583417bbdfde046e2ef02c6b8255ac9a09e2a685dc529b5c3359097964c31b1a1b8861ef86000371cad223726a636ad8c7fe9f27b5f00c0023c9a5c25b269ec6a9f602e1fd59446899f82eda543ab2d76fd7e4369b50d436656874cf94d5d69e4c405a0813e0313770429a3c7b086a65d7f9fe6eb94196a03478aee7ff418120f49ead18bf0fbf2b7e6760665825befcad12e6a9567195882dff62958338177c811793bfdb284a87c5eb2dedd4d80e3ceac47ff47b01e0e266ca9c41a97963bcf32126cc1900ac5f28a550ba3b9c858f48e9c546fb9055d17fdbb030da97fd0b4e541d7c8a9bf7d7e852435551f8732653055e358ee067b23f7867275554fade3ea0c4a9509d47c746b611c66be9d756343504fce2121b6e21b23e83249303c8073955f7041cc5d0304bff70ea411b789d48270544910553d430a2f74fc94f51cf74cd635f2dd85c8e1994471a9e1aa79c51b84b63729aea44e87c272be21517b36d8f1c257100b5b3aaa22e4eedfb492b510e1fd3814b4894d6b5ab7fb78b06b8fee4975dd7b6f6a37da15848978c2a66a737b7e460a1156d51f47fdfabb0a1a086603aee16f49e33012c8fd64f953aa92a4dda4f01a95c14f1a31ba27ba1776b8dbe91a38c470e4372ceee94406d8c8e34fd72b7d180983678e481dc176c06a62028f88a52c3ec217cdde20d6b4ccc03b4c1526680db8c4e03f11c342b32219f19d47cfc69979092bf5fb90bc674362e3347fb6450c5bb0d33c22bf6e20b2977e4b1c0ef94c5775ad38a3e7537d6c8ce0510a9ea32887a2b196ca3704ad9fdd1abfeb194258e0d0fd6622459f66b914241cab9f940428e2870f102c6b81e1c65639e996bf8656f975a136877148bbf3058d6821e21ac0a3ff5b11a2c7c6b03a7d6f92ccd9929e306858457e153f864a8c77f7faaf21f54ddd79f0a7ab6c5636d9669a349235794ca578c5b7a57c73b50ba2f3208109e3e0020528e5d1d40cee01d2003018051851c31a18c1eb2fe60e1b0696a5aa000b9162fecdc1a67e33458dc45fc69a62edaf1922d89e18812cd372cdf48b9b053a6a884df5e057aeb83f9a5e2640edf15345ac06cd670ebbe786182469a4bd2464abb2545bc99d780de0d95e0ec9a10d155115d5371289de1d91ad96c411011a16b30f1d20d2982a5863182385c9b6bedeed1622e0dfef3c4f7f815e5c5581163efe8cfa0a534590b4ac28452bae325cf91b795fee5d93ddafc2b8c7fa3db621fdc81e1e9b8bc21e8dda299f922ab05ef239bdc8fcc4975a9bdcd78cdff26114e49a2a38e401865f9e14831f3143d7fb2b2dfaa45da91b96d82a77805990b42b066a2dd1b786a9f5284e6dbd978e164104814a7a95f7a54f559aca81d7ef3c2c1c60215c7af8a2c48b3c4cbca9a3123c3c794010825e3c6a8d798ddb540f1b0ce8530c42ceb258631c8e415ccb904dc82321a8d474199d23b6057c7e2b274d2f51265ad48fbdec9b4cce96efc8b4e5a82770fe93a836e489cdf712d03bd2f11e05df42ee8aa8e0898867c9d5167cf86dc1beed30d191521f61c215d0c784e11e706383c32ac17ea3c7a5294f0efaffc9de8bea0e39c286e6dc514f293474c72537a261e2ec5e04e94062885b0283a65543ecf47551e3a0e46ce1152b0044f82a7274ab10cc0b919dc0996f49bfdd6a71b2d22cb78e6ea6451e7299de317db00e00f1e8f4f7a9e7fe4379a0b67aada955f762ed93c2df759bdd4dfe55c713b91b3d50c4fa7837b528d26076c5228c05a4a3275308bf34c09f871e9245a469461d8445c40ad3ce0e79a0ee7624aff7507d2dc9cca9e15c1184cfd0e6305263972a5ee93ce4fc9ab676ec5373ff48b6b66f1e83945e132e70921a3232bd529ff318f0e94f75cdd3394570f63f74b02c03489032c207753ecbd0baf765f70580911680d168ec340b51beb525a92be439a20675d07657feacbecc77ce9fa447c8120365e262684389c53953e9c9254f3017076311cad9fff2917ab34c45b92ef44527bb46f3c0bed2895c0010bef7baf186e55518a342a13a4eda5c2ad9e9a944522a8c2855827ff27342cf617a875a4d0a229edaf8205a92c1b49693aa9da91d2605e260c45c1019db986a02788238f5e480fb99590e3874d61b1bbf354e0647342c07c802f3767eb1fe2ce428d771492bba57a2eb124b6fe3019eacb9bf9d5f5d29d811221880d1e424891a6ab49fbda791d543909782c0422fd5849f5057245d1761d885bab4d1d303d92aad0e3cca334a448b35f1dc9f2ad72ff531ef9e705b08e6fdaa247bcfca2189f4812afe7711f1074a258a911b09197741f22c0981d30c708edb02bc5ab4e154f1f8b485e36b668de350c61f6d2dbc204a2c3fb19007223346b3c0efda55bffed457cc84a3523a4ff5035e6b0377d5ac85be26b8ebfb011c0c2ef7f9c6a597fe4ec33b996c984bcc86c52ea08ade62cc89fb2362fae7089af5e24d638c78ef32f724ed1914133522968b34df582d01f1e83b72d45af828bf7ad1fb5f25c33dfc45c8323a9d2515ba677855b2519b886a69cb7edbe2fc0c5ea670ea32097313293186277544487a512feb5d1dbfc521de31003f07531d034b40ebf23fb3e02a64b7c005de1a3bb9ae591e1fc6454a4ca86926c9c8741b2fe91f109d242e12c544f83885821f4430852a88c537acb79f9b6ae6a852aa950598f9a9f03becafd4e203f0e30f135a2c29316c7352f894dc1ce40357fccc96102fa5f54115d061b535a954d9eeebadc3235d09ea44f3d501921e7b33d082781889472217f39ce211092fe227104e1d37136195903a74e02fc2daa4d9d5b9c92b15843c4eb671e70167fe21cb413c35036e6c38d667472193cce91ecb4ab4461258f39b95594c8ddb91e149c1c50c370fdfb99f16ff37f7890724c2112820750846f1e23b4d1bf5578e4abe10642135df286691c8b9ad43afb67e17ad6cb73b000aa4f36f5296564de175ec718ad4c040c488d4d8a1f03f961cc969f163bfeb196b985f79b87751041225736e6bd6c8328cfc0bd3c5557fc0001a6051c5220e0e054b13de19a8496466267568a9c3480a374947cf1692de913faf570ce7dc470ce3d7524916f5b2fc86c70d757f25d1d427df9d33a0ce6b38b236267b16d00013fa91d360f70f07cc2c5a115816bfa190497287ec466392f6e09cb8193ae2201aebd8a8a1ae5b5194b268eeddf6f974452d1508a0773a70b709c9257da5f7380f1d1a086fb472702b72cd4f1e55bf0640faa1ea7f900dbde6a772341a0ff15a07ffc1b2525376d0621b4bc0d4417bf0eb3a147b3f3729c9c30ee06fd5bc679623018c2456d281b86df4877e04ff617fe10bf02ceecf77cad8848952f2c75c532e6cb8888520d5d0aec5e303b961850ea50ddff354e2d11e86358f081051644e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001780beead6f8669e192de7dc9eec835191feae677d282e436f60c5e58ad6461281aad417aee3baaef8768d1dff951dbe3f317e538b6207c850206f112cea24f0bc4884d1c0180eb42f70acef13addcb243ec5ce119d732145c1930220c13c2d15cdbeb12c97582ead9c7609ff7844d499d5a5a510c15cea7a552957b867edbc03d0bae21d174ef70e09cb679a0407f4523c8544a7f47ef85661b9fbf3e001aa144cccfaea31dfd0058309d869255baaeba2a1896d7b7c9fb66c2eba33bda2c909deeb565d00874c3ab0f1492d88cf93c0bf1a8c28e39775900403bcc4170a0509b74a93899b4b2b5f10010f6ebf53140cc95e449a4e51d9f92401dc5a98006c257442aa2c8dc588bcc3145e19ccd948a557e871c9dd33b34a627969e2f58db5285eaaf411fe3096182a473270da2d54db2659290afedcb60e3f61901459fb262a05954e10975912748490bfe1efd4184203c8fb9e302b2643b07a96e27dab28214b925bab2beeea111c6ad006dbd01b0d04c8ab576ef01b1c491daa6e3d0d7b2b0c83c280e206eeff9c7d31771cba75e031c408fbf0fbba182e80994ce5ac872e50feb7667719b4edd997502176bb12140280526514c0278c8c345aadd1514d2fe7b0cb4afd48a01d9defcacd7612c352a044103e8bdafc7437785809c089202819088d15b7130befe486098bb777a710b2917cc85431375d1ce9e24123670c04ec1871c81e0513be0d3af5e949d43c7b7382ea623da23e54e55db99dbe599308b8c787439f90821382b7316bdc7997129820be1f22323e0bd1bd4f0ad075ba14b29e8d48662c5af39ad8ea51100b0c3a4c9df36e4fd85bf2d27e44b7202b2c0b651c0c993429f8d32f972424f69b41d2d9ac9247be0d78506b95b04ea1be042f9e8a5643ad2296342512cd67b7326cdb38bf28082120c02ddbdbfe4004ff932e4947afb541fd733c000301820b74c0e1211ee3483414b928332c306fceeda802688517e74419296c1b7d939a9a6d43f19fb75e50d34390a067d0a945b60bcf14e5fc0acce19f6c33269150995843c12fa127b03614d499a6ab539ecde32708069b72b102f50050a6f2e7edc28fd8ca742457dde55089c99a013452b1b585fb24963b69af02a044ce33d55f89670c1f56e4ffc35d716c0eec94467b485dcf9207743104ef043388754e1554810d2483988503ec28b40e40ec2cdc280fe642a72fd1a7cdbd715260321f09a48436916458531b6cbbab44f141bb21e8998bf5c3228287650e5d9d8904ad0c9384f8a70f804b98aa3e0c0cbd1d5d971d7f3e4ca62a97886d1a040c0383de3a433eaa0c5bb3a9e4a3fd01400513a09e58210ddd9e1ffb1c51e4b8f8e96818b961654968b0293ef2c3cfec7b57ce8f7b6c94f49bcf1f254bc070b0e468c522125b4e5dbd34765a72eb53c9add1d5d9760c2f95f78d222c13b0fa09a41ae26821af1798ef6c901f39d999764fd57c9066bfd779ce8d13f70a11b33bc31f41416bdd04060920d2134cb22a331196db4a01e13f65050513f70a11b33bc31f41416bdd04060920d2134cb22a331196db4a01e13f6505051ed375f60b69d68df9a0df04173365fe79f23c748b449bd1d1c409600a33dd142c153aa0bf3c1236ae996430e8df907b97f9f2786c712071329bbddbe3bf971102f4f3b8bd8d503c449212734aaef59e70fc1a871af7265c3300c3f8744f08bb20800c87bc786b518192fd117c949a37fe62b760d390e47e7c01c42559d187682a2b6ef04369aa5406c510e05b92d22206c170037537eb1324fcc567dfcd0d51000000000000000000000000000000c7b569a3a359e00d1e856971cbfbe8cf1700000000000000000000000000000000001ef1a4361f7895e67bad376fa3736d0000000000000000000000000000003bf8fc9e96405ebbbf6e0538fa3acdb18c00000000000000000000000000000000002b24f3589590bd7deb25bc0b6e3a99000000000000000000000000000000c88b1a53617bc351c953edee351599780900000000000000000000000000000000002499b5b1fb4faae150260e3b00d615000000000000000000000000000000f558901ee783830523071a643b0782f2c10000000000000000000000000000000000241d1223a887fd0219267eae53c6dc00000000000000000000000000000044a5101d27352f40acfa5c5a198cd4cf15000000000000000000000000000000000005ae2bf9f94d5337279523db00d300000000000000000000000000000000b905cdecd7f14bfe95b493197aaae52e210000000000000000000000000000000000169f59f9709b82ce9d06ae88563388000000000000000000000000000000fb138d69463eefa45793ae45f206b7967c000000000000000000000000000000000010ea6d9e076ab973b1ea007022f1b9000000000000000000000000000000791ce97cfea09f180d85b393293b52266a00000000000000000000000000000000001e30c0d8c124f77602433ae7ef36d0000000000000000000000000000000440fa39f5292a1b4c1796e074def42af1e00000000000000000000000000000000000ed0839ed0f7ceee0a367596b3fbe7000000000000000000000000000000ca307da189583b66d39cde879b4a554e3300000000000000000000000000000000001985cb05dd579334998c10e1617ece0000000000000000000000000000003173ad6e3ee26521b5b7cf992bfe23d6b300000000000000000000000000000000001c1af64baaba250a36b024efe4a2dd000000000000000000000000000000759d640553300448e38f65927f71e5a7680000000000000000000000000000000000214124a02fd528c18c5951771f689900000000000000000000000000000018fe6e98e97eed33ab022a648d87fe415b0000000000000000000000000000000000040c9c31e27b5eabb77b856bdc5c21000000000000000000000000000000a77670704299b12482f748321a3692c06d0000000000000000000000000000000000075e98ee049dce8e92e807f794b4700000000000000000000000000000003343dbd255c8b3a691699b0da4c030e07c0000000000000000000000000000000000138d358338ee95e3a90134f571bd2c0000000000000000000000000000001af3ae102b4dfcdb970e75bb0f02e4ab2b000000000000000000000000000000000025143bbbf90fbefc5d5a0875cc90f0000000000000000000000000000000da38b52f1bda8458b0996ca522f2c3f5fd000000000000000000000000000000000005836726206ed727528e81b09b56500000000000000000000000000000007f5117a9f9fbd742b084f2d7ac904f66b800000000000000000000000000000000001507659f840bedb5b09931c4d1beeb000000000000000000000000000000eb3d3d44e6b07eebccb8f07546f579e4570000000000000000000000000000000000127c90716ddce607746ff64038045b000000000000000000000000000000a0e51aa2f4febfc58cdc37ca4093af694100000000000000000000000000000000000aa7bd27eb92dd9231bcdad72edd500000000000000000000000000000005478c88023da84fd302b4c8e99275d4687000000000000000000000000000000000014729f4d0ab2b377c7b5209483ab20000000000000000000000000000000d20e6925d840236ff4ca7bd28248ca30a600000000000000000000000000000000000bd70b73d8ccd4801ffc22e2fc3b36000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000024bade904f75ec121019f42a8d1e2edaec5bf1db6569ba51b6a0d11d6152c69c25386ec3039f0acaa8b5a29e9f656d1c1b46c47003711ca890878480c7d7bcab06d94369d424b5ecfbe4a4da8511f952ae9c44152ff6a7746abe97ad61ced5f515f0c4ebdf06e7031dfb413defe5684cf977ec387cbf518214121f0c7e9181451eb1d01e6412eb84e31c82595cecceb6cf2e01c62859b3b08ab48e9c21af89f51c876d4f38ff2a7e856325b4368a3d60a4b64c784b69c806b0670cef5951e3eb0c035a26778d10c8c4b6316f52be98fb92775f88c5c3450c3c4fa8539d79e07f2e1984c5718bda05c060994fad754099a65d0255c7553f0969aedee80861a83b203c10750d848223edd3e535be369f4293625b2cb2d7819aa43ded4d9b2a7f2a26b3a7b96517c081bec3c62f48dc21f754b7a441b0ab0bb23175148d03a3058727338b916354b017f2b701a376dd7cd997cfb33d2e739072c5c410ad64f0b9e224c18647441682ee80fbe20d5bc3d56c908f3229a29bf5e7b2f6b868a4134f6d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009e7d22137fac2f628edc3f778a322b7e1f00000000000000000000000000000000000d3b760e9ba5f6fe8e5d71606c468b0000000000000000000000000000008eb39b098ace00d2dee1ac48c4b924405b00000000000000000000000000000000001625afa2ac021d11db5d6a90c4e5520000000000000000000000000000002d67e4ad1baa89f25a606b33d43441ff1700000000000000000000000000000000002c98067e7860691a29dba0edaa567e00000000000000000000000000000024dc274746ed89ba0ba64063165a2cd978000000000000000000000000000000000020b21f1562817c902ec8c0aaf5378c";

    // The proof with the public inputs removed

    HonkVerifier referenceVerifier;
    AssertStateOpt optVerifier;

    function setUp() public {
        referenceVerifier = new HonkVerifier();
        optVerifier = new AssertStateOpt();
    }

    function testBothImplsAssert() public {
        // A vector of the public inputs
        bytes32[] memory publicInputs = new bytes32[](1);
        publicInputs[0] = 0x0000000000000000000000000000000000000000000000000000000000000003;
        // publicInputs[1] = 0x0000000000000000000000000000000000000000000000000000000000000002;
        // publicInputs[2] = 0x0000000000000000000000000000000000000000000000000000000000000003;
        // publicInputs[3] = 0x0000000000000000000000000000000000000000000000000000000000000004;

        bool baseVerified = referenceVerifier.verify(proof, publicInputs);
        console.log("base verified");
        bool optVerified = optVerifier.verify(proof, publicInputs);
        console.log("opt verified");

        assertEq(true, optVerified);
    }
}
